@import url('https://cdn.jsdelivr.net/gh/bitmaks/cm-web-fonts@latest/fonts.css');

/* ========================================
   CSS VARIABLES
   ======================================== */
:root {
    /* Fonts */
    --font-serif: 'Computer Modern Serif', 'Latin Modern Roman', serif;
    --font-sans: 'Computer Modern Sans', 'Latin Modern Sans', 'Segoe UI', 'Roboto', sans-serif;
    --font-mono: 'Computer Modern Typewriter', 'Latin Modern Mono', 'Consolas', monospace;
    
    /* Theme Colors */
    --primary-color: #FFCD00;
    --secondary-color: #003366;
    --accent-color: #B8860B;
    --background-color: #FEFEFE;
    --text-color: #2C2C2C;
    
    /* Derived colors */
    --light-primary: color-mix(in srgb, var(--primary-color) 20%, white);
    --dark-secondary: color-mix(in srgb, var(--secondary-color) 80%, black);
    --border-light: #e0e0e0;
    --grey-light: #F5F5F5;
    --grey-medium: #767676;
    
    /* Theory Colors */
    --theory-set-color: #2E7D32;
    --theory-set-bg: #E8F5E8;
    --theory-bool-color: #F57C00;
    --theory-bool-bg: #FFF3E0;
    --theory-prop-color: #1976D2;
    --theory-prop-bg: #E3F2FD;
    
    /* Status Colors - Configurable */
    --success-color: #28a745;
    --success-bg: #d4edda;
    --success-border: #c3e6cb;
    --success-text: #155724;
    
    --error-color: #dc3545;
    --error-bg: #f8d7da;
    --error-border: #f5c6cb;
    --error-text: #721c24;
    
    --warning-color: #ffc107;
    --warning-bg: #fff3cd;
    --warning-border: #ffeaa7;
    --warning-text: #856404;
    
    --info-color: var(--primary-color);
    --info-bg: var(--light-primary);
    --info-border: var(--primary-color);
    --info-text: var(--secondary-color);
    
    /* Interactive States */
    --hover-bg: color-mix(in srgb, var(--primary-color) 10%, var(--background-color));
    --active-bg: color-mix(in srgb, var(--primary-color) 15%, var(--background-color));
    --focus-color: var(--primary-color);
    --focus-shadow: color-mix(in srgb, var(--primary-color) 25%, transparent);
    
    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 0.875rem;
    --spacing-lg: 1.25rem;
    --spacing-xl: 1.75rem;
    --spacing-xxl: 2.5rem;
    
    /* Border radius*/
    --radius-sm: 3px;
    --radius-md: 4px;
    --radius-lg: 6px;
    --radius-xl: 16px;
    
    /* Shadows */
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.04);
    --shadow-md: 0 2px 4px rgba(0,0,0,0.08);
    --shadow-lg: 0 3px 6px rgba(0,0,0,0.12);
    --shadow-xl: 0 6px 12px rgba(0,0,0,0.12);
    
    /* Transitions */
    --transition-fast: 0.15s ease;
    --transition-medium: 0.25s ease;
    --transition-slow: 0.35s ease;
}

/* ========================================
   BASE TYPOGRAPHY
   ======================================== */
body {
    font-family: var(--font-sans);
    color: var(--text-color);
    line-height: 1.5;
    margin: 0;
    padding: 0;
    background-color: var(--background-color);
    font-size: 0.9375rem;
}

h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-sans);
    color: var(--secondary-color);
    font-weight: 600;
    margin-bottom: var(--spacing-xs);
    line-height: 1.3;
}

h1 { font-size: 2.25rem; }
h2 { font-size: 1.875rem; }
h3 { font-size: 1.5rem; }
h4 { font-size: 1.375rem; }
h5 { font-size: 1.25rem; }
h6 { font-size: 1.125rem; }

h1 + p, h2 + p, h3 + p, h4 + p, h5 + p, h6 + p,
h1 + .problem-meta, h2 + .problem-meta, h3 + .problem-meta, h4 + .problem-meta,
h1 + .nav-links, h2 + .nav-links, h3 + .nav-links, h4 + .nav-links {
    margin-top: calc(var(--spacing-xs) * -0.5);
}

a {
    color: var(--secondary-color);
    text-decoration: none;
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--accent-color);
    text-decoration: underline;
}

/* ========================================
   TYPOGRAPHY
   ======================================== */
.math-expression,
.goal-formula,
.step-expression,
.problem-equation,
.expression-display,
.equation-preview .goal-formula,
.proof-lhs,
.proof-rhs,
.preview-lhs,
.preview-rhs,
.problem-lhs,
.problem-rhs,
#starting-expression,
.list-equation,
.problem-card .problem-equation code {
    font-family: var(--font-serif);
    font-weight: 500;
}

.math-input,
#formula-input,
#lhs-input,
.export-content,
#rhs-input,
.formula-input {
    font-family: var(--font-serif);
    font-size: 1rem;
    font-weight: 500;
}

.symbol-btn {
    font-family: var(--font-serif);
}

/* ========================================
   LAYOUT FOUNDATION
   ======================================== */
.app-container {
    display: flex;
    height: 100vh;
}

.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.content-header {
    padding: var(--spacing-xl) var(--spacing-xxl);
    border-bottom: 1px solid var(--border-light);
    background-color: var(--background-color);
}

.content-header h4 {
    margin-bottom: var(--spacing-sm);
}

.content-header p {
    margin-top: 0;
    margin-bottom: var(--spacing-md);
    font-size: 0.875rem;
}

.content-body {
    flex: 1;
    padding: var(--spacing-xl);
    overflow-y: auto;
    background-color: var(--background-color);
}

/* ========================================
   UTILITY CLASSES
   ======================================== */
.text-mono { font-family: var(--font-mono); }
.text-sans { font-family: var(--font-sans); }
.text-serif { font-family: var(--font-serif); }

.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.d-flex { display: flex; }
.flex-column { flex-direction: column; }
.align-items-center { align-items: center; }
.justify-content-center { justify-content: center; }
.justify-content-between { justify-content: space-between; }

.w-100 { width: 100%; }
.h-100 { height: 100%; }

.m-0 { margin: 0; }
.mb-0 { margin-bottom: 0; }
.mb-1 { margin-bottom: var(--spacing-xs); }
.mb-2 { margin-bottom: var(--spacing-sm); }
.mb-3 { margin-bottom: var(--spacing-md); }
.mb-4 { margin-bottom: var(--spacing-lg); }
.mb-5 { margin-bottom: var(--spacing-xl); }

.mt-0 { margin-top: 0; }
.mt-1 { margin-top: var(--spacing-xs); }
.mt-2 { margin-top: var(--spacing-sm); }
.mt-3 { margin-top: var(--spacing-md); }
.mt-4 { margin-top: var(--spacing-lg); }
.mt-5 { margin-top: var(--spacing-xl); }

.mx-3 { margin-left: var(--spacing-md); margin-right: var(--spacing-md); }

.gap-1 { gap: var(--spacing-xs); }
.gap-2 { gap: var(--spacing-sm); }
.gap-3 { gap: var(--spacing-md); }

/* ========================================
   UNIVERSITY LOGO STYLING
   ======================================== */
.uni-logo {
    height: 2.5rem;
    width: auto;
    max-width: 60px;
    margin-right: var(--spacing-md);
    vertical-align: middle;
    object-fit: contain;
    flex-shrink: 0;
}

.sidebar-header.header-with-logo {
    display: flex !important;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-sm);
    text-align: center;
    justify-content: center;
}

.sidebar-header .uni-logo.sidebar-logo {
    height: 2rem;
    max-width: 50px;
    margin: 0 auto var(--spacing-xs) auto;
    display: block;
}

.sidebar-header.header-with-logo h4 {
    margin: 0;
    text-align: center;
    width: 100%;
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}